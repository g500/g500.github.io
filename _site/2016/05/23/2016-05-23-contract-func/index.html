<h2 id="website">有关的website</h2>

<ul>
  <li><a href="https://ethereum.github.io/browser-solidity/#version=soljson-latest.js">编辑器</a></li>
  <li><a href="http://solidity.readthedocs.io/en/latest/">solidity官网</a></li>
</ul>

<h2 id="section">简单存储</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="c1">// 存储</span>
<span class="nx">contract</span> <span class="nx">SimpleStorage</span> <span class="p">{</span>
    <span class="nx">uint</span> <span class="nx">storedData</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">set</span><span class="p">(</span><span class="nx">uint</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">storedData</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">get</span><span class="p">()</span> <span class="nx">constant</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint</span> <span class="nx">retVal</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">storedData</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>跟很多其他语言一样，访问状态变量时，不需要在前面增加 <strong>this</strong> . 这样的前缀。</li>
</ul>

<h2 id="section-1">代币</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="nx">contract</span> <span class="nx">Coin</span> <span class="p">{</span>
<span class="c1">//关键字“public”使变量能从合约外部访问。</span>
    <span class="nx">address</span> <span class="kr">public</span> <span class="nx">minter</span><span class="p">;</span>
    <span class="nx">mapping</span> <span class="p">(</span><span class="nx">address</span> <span class="o">=&gt;</span> <span class="nx">uint</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">balances</span><span class="p">;</span>

<span class="c1">//事件让轻客户端能高效的对变化做出反应。</span>
    <span class="nx">event</span> <span class="nx">Sent</span><span class="p">(</span><span class="nx">address</span> <span class="nx">from</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">amount</span><span class="p">);</span>

<span class="c1">//这个构造函数的代码仅仅只在合约创建的时候被运行。</span>
    <span class="kd">function</span> <span class="nx">Coin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">minter</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">mint</span><span class="p">(</span><span class="nx">address</span> <span class="nx">receiver</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">!=</span> <span class="nx">minter</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
        <span class="nx">balances</span><span class="p">[</span><span class="nx">receiver</span><span class="p">]</span> <span class="o">+=</span> <span class="nx">amount</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">send</span><span class="p">(</span><span class="nx">address</span> <span class="nx">receiver</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">balances</span><span class="p">[</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">amount</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
        <span class="nx">balances</span><span class="p">[</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">]</span> <span class="o">-=</span> <span class="nx">amount</span><span class="p">;</span>
        <span class="nx">balances</span><span class="p">[</span><span class="nx">receiver</span><span class="p">]</span> <span class="o">+=</span> <span class="nx">amount</span><span class="p">;</span>
        <span class="nx">Sent</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">,</span> <span class="nx">receiver</span><span class="p">,</span> <span class="nx">amount</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
</div>

<p>By <em>Liwei</em> 160523</p>
